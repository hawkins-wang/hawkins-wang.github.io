<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <title>WEB唤起原生APP</title>
</head>

<body>
<a onclick="aClick()" href="javascript:void(0);">下载或打开APP</a>
<script>
//iframe这种方式    Android 的 chrome 内核从 chrome 25 以后就弃用了 iframe，不再支持通过 js 触发（非人为点击）
//或者通过设置  iframe src  地址来触发 scheme 跳转
function aClick () {
var ifr = document.createElement('iframe');
    ifr.src = 'schemedemo://ihongqiqu.com/test/scheme?name=google&page=1';
    ifr.style.display = 'none';
    document.body.appendChild(ifr);
    setTimeout(function(){
        document.body.removeChild(ifr);
        if (Date.now() - last < 2000) {
            if (typeof onFail == 'function') {
                alert("fail");
            } else {
                //弹窗提示或下载处理等
                alert("开始下载");
            }
        } else {
            if (typeof onSuccess == 'function') {
                onSuccess();
            }
        }
      }, 3000);
}
</script>


</body>

</html>
